# Human

- Do manual tests, compile issues

We've implemented the first pass at the functionality, and these are all of my notes on things I found while I was testing that need to be fixed. At this level, things are mostly functionality related. So it's the baseline of does this thing work, and we need to please fix all of these. Please do so using tasks.

- Get rid of "preview modes", there should only be what is currently called "edit" mode, and make sure to get rid of all the associated dead code
- Shift-tab should de-dent, the same way Tab de-dents. It doesn't right now.
- Closing brace }]) as the first chracter on a line doesn't auto-dedent the line, it should.
- Cmd-Z should undo anything in the editor, including adding a cloze.
- This doesn't work: 10. Cmd+Shift+/ - Should insert comment cloze above current line with correct comment syntax (// for JS, /\* \*/ for CSS)
- The toasts are too fat, icon is tacky, make them look better
- CLOZE_START_3 and CLOZE_START_2 tokens are actually showing in the preview and copied output HTML, with the current exampl. c1:: seems to be working though. Not all the time. Figure out how and why this could be happening, I could help debug if you need or are stumped.
- The whole top left buttons UI is useless, get rid of it, we can re-add later but for now all of those controls will be keyboard driven. For balance, maybe put a title there for now.

When you are done please give me another set of manual tests to run, slimmed down from before, to test anything that has changed.

Continuing 2/2:

- Get rid of the output HTML pane entirely. You can bring back the info icon and copy HTML buttons from the topmost heading. Those were useful, esp now that we're getting rid of the output pane.
- Let's make sure all of the text is left-aligned explicitly, in Anki the default is centered so right now the prose is centered and code is left aligned
- Cmd-Enter when in the enter inserts a newline and copies the HTML, but it should only copy the HTML if there is no selection.
- Cmd-Shift-/ should insert a comment cloze above the current line with correct comment syntax (// for JS, /\* \*/ for CSS) but it does not
- The Editor and Preview headings are different heights, make them consistent (thinner is better, they should both be the current height of Preview)
- Separate e2e smoke test from the rest of the tests by making a top-level tests_e2e folder, and update all the associated scripts/mise tasks/etc with the new file path

---

- Rename project to Anki Code Cards ,done

- CODEX: Figure out how to run tailwind, separate process can't be the answer. Incorporate answer from raycast ai
- CODEX: get a deployment working, get tailwind running alongside in dev
- CODEX: Add snapshot tests for the card examples output HTML, is there a way to do this without the full UI?
- CLAUDE: FTU: needs to give instructions for Anki HTML editor
- How can we reduce complexity?
- Deslop everything including tests
- Get mise fix passing
- GO THROUGH AND DO THE KEYBOARD SHORTCUT MAPPER THING, LIST EVERYTHING I DON'T GET
- Read implementation
- FTU
- Ok after this, ready to "ship" and move on to actually using it (back to keyboard mapper, make flashcards)

---

# Agent
